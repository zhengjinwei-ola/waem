use std::fs::File;
use std::io::Write;

fn main() {
    println!("正在生成示例CSV，支持多电表结构...");
    
    let csv_content = "铺面编号,店铺名称,电表1上期读数,电表1本期读数,上期水表读数,本期水表读数,电表2上期读数,电表2本期读数,电表3上期读数,电表3本期读数,水费单价,电费单价,水电人工费,垃圾处理费\nPM-001,张三商店,5063.00,5809.00,500.00,508.00,1200.00,1280.00,0.00,0.00,1.1180,1.0300,50.00,20.00\nPM-002,李四餐厅,1200.00,1300.00,550.00,562.00,1400.00,1500.00,1600.00,1700.00,1.1180,1.0300,50.00,20.00\nPM-003,王五超市,1400.00,1520.00,600.00,616.00,0.00,0.00,0.00,0.00,1.1180,1.0300,50.00,20.00\nPM-004,赵六便利店,1600.00,1740.00,650.00,670.00,1800.00,1950.00,2000.00,2100.00,1.1180,1.0300,50.00,20.00\nPM-005,钱七小卖部,2000.00,2150.00,700.00,720.00,2200.00,2350.00,2400.00,2500.00,1.1180,1.0300,50.00,20.00";
    
    let mut file = File::create("sample_bills.csv").expect("无法创建CSV文件");
    file.write_all(csv_content.as_bytes()).expect("无法写入CSV文件");
    
    println!("示例CSV文件已生成: sample_bills.csv");
    println!("前几行预览:");
    println!("{}", csv_content.lines().take(4).collect::<Vec<&str>>().join("\n"));
    println!("注意：该CSV支持多电表结构，每个商家可以有1-3个电表");
    println!("- 张三商店：2个电表（模拟您提供的数据：电表1从5063到5809）");
    println!("- 李四餐厅：3个电表");
    println!("- 王五超市：1个电表");
    println!("- 赵六便利店：3个电表");
    println!("- 钱七小卖部：3个电表");
    println!("水费单价已调整为1.118元/吨，电费单价调整为1.03元/度");
    println!("新增字段：水电人工费50元，垃圾处理费20元");
    println!("所有费用金额将四舍五入到分");
}
